$(document).ready(function(){"use strict";$(".mg-option input[type=checkbox]").on("change",function(e){var t=$(this).parents(".thumbnail");$(this).is(":checked")?t.addClass("thumbnail-selected"):t.removeClass("thumbnail-selected")}),$("#filter-by").change(function(){$("#media-grid-form").submit()}),$("#mg-select-all").on("click",function(e){e.preventDefault();var t=$(this),a=t.find("> span"),i=$(".mg-option input[type=checkbox]");t.attr("data-all-selected")?(t.removeAttr("data-all-selected"),i.prop("checked",!1).trigger("change"),a.html(a.data("all-text"))):(t.attr("data-all-selected","true"),i.prop("checked",!0).trigger("change"),a.html(a.data("none-text")))}),$("#mg-delete-all").click(function(e){e.preventDefault();for(var t=$(".mg-files :checked"),a=[],i=0;i<t.length;i++)a.push(t.eq(i).data("id"));0==a.length?new PNotify({title:"Warning",text:"Please select at least one.",type:"error",addclass:"notification-warning",icon:"fas fa-exclamation"}):($.magnificPopup.open({items:{src:"#delete-confirm-modal"},type:"inline"}),$(".modal-confirm").click(function(){$.ajax({url:baseUrl+"/admin/media/bulk",type:"DELETE",data:{data:a},headers:{"X-CSRF-TOKEN":$("#csrf-token").attr("content")},success:function(){location.reload()},error:function(e){new PNotify({title:"Error",text:401==e.status?e.responseText:"Error found while database operation.",type:"error",addclass:"notification-error",icon:"fas fa-times"})}})}),$(".modal-dismiss").click(function(){$.magnificPopup.close()}))}),$(".thumb-preview a.thumb-image[href]").magnificPopup({type:"image",closeOnContentClick:!0,mainClass:"mfp-img-mobile",image:{verticalFit:!0}}),$(".thumb-preview .mg-zoom").on("click.lightbox",function(e){e.preventDefault(),$(this).closest(".thumb-preview").find("a.thumb-image").triggerHandler("click")}),$(".thumbnail").on("mouseenter",function(){var e=$(this).find(".mg-toggle");e.parent().hasClass("open")&&e.dropdown("toggle")})});