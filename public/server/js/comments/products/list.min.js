$(document).ready(function(){"use restrict";var e;$(".select-all").on("change",function(){$(this).is(":checked")?$(".table tbody .select-item.checkbox-style-1").prop("checked",!0):$(".table tbody .select-item.checkbox-style-1").prop("checked",!1)}),$(".bulk-action-apply").click(function(t){t.preventDefault();var o=$(".table tbody :checked");e=[];for(var r=0;r<o.length;r++)e.push(o.eq(r).data("id"));0==e.length||"delete"!=$(".bulk-action").val()?new PNotify({title:"Warning",text:"It will not work.",type:"error",addclass:"notification-warning",icon:"fas fa-exclamation"}):$.magnificPopup.open({items:{src:"#delete-confirm-modal"},type:"inline"})}),$("#post-replies-list-form").on("click",".remove-row",function(){var t=$(this).closest("tr").find("input[type='checkbox']").data("id");(e=[]).push(t),$.magnificPopup.open({items:{src:"#delete-confirm-modal"},type:"inline"})}),$(".modal-confirm").click(function(){$.ajax({url:baseUrl+"/admin/products/comments/bulk",type:"DELETE",data:{data:e},headers:{"X-CSRF-TOKEN":$("#csrf-token").attr("content")},success:function(){location.reload()},error:function(e){new PNotify({title:"Error",text:401==e.status?e.responseText:"Error found while database operation.",type:"error",addclass:"notification-error",icon:"fas fa-times"})}})}),$(".modal-dismiss").click(function(){$.magnificPopup.close()}),$("#post-replies-list-form").on("change",".approved-toggle",function(){var e=$(this).closest("tr").find("input[type='checkbox']").data("id"),t=baseUrl+"/admin/products/comments/"+e;$.ajax({url:t,type:"POST",data:{_method:"PUT",approved:$(this).is(":checked")?1:0},headers:{"X-CSRF-TOKEN":$("#csrf-token").attr("content")},success:function(){new PNotify({title:"Success",text:"Review status changed.",type:"success",addclass:"notification-success",icon:"fas fa-check"})},error:function(e){}})}),$("#post-replies-list-form").on("click",".reply-review",function(){var e=$(this).closest("tr");$(".reply-row").insertAfter(e),e.addClass("reply-to")}),$(".submit-reply").click(function(){if($(".reply-row .note-editable").text()){var e=$("#username").val(),t=$("#useremail").val(),o=$(".reply-row .note-editable").html(),r=$(".reply-to").find("input[type='checkbox']").data("id"),a=$(".reply-to").find(".response-to").data("product-id");$.ajax({url:baseUrl+"/admin/products/comments",type:"POST",data:{author_name:e,author_email:t,content:o,parent:r,product_id:a},headers:{"X-CSRF-TOKEN":$("#csrf-token").attr("content")},success:function(){location.reload()},error:function(e){new PNotify({title:"Error",text:401==e.status?e.responseText:"Error found while database operation.",type:"error",addclass:"notification-error",icon:"fas fa-times"})}})}else new PNotify({title:"Error",text:"Please type comment.",type:"error",addclass:"notification-error",icon:"fas fa-times"})}),$(".cancel-reply").click(function(){window.confirm("Do you really want to discard changes?")&&($(".reply").append($(".reply-row")),$(".reply-row .note-editable").html(""),$(".reply-to").removeClass("reply-to"))})});